#
## 一、hr问题
1、为什么要跳槽？
朋友说这边有个机会 想过来试试。
2、为什么会去微视？
我去的是微视架构组 做一些技术项的东西。

## 二、项目经历
1、微视音视频
做播放器这块，一开始有一个超分的算法要去应用到微视中。我做的工作是做个算法和音视频流的连线。
首先视频播放在一个离屏的surface上，视频的编解码是播放器处理，然后将这个离屏的surface设给播放器，做过音视频的会知道播放器会软解或者硬解将一帧帧的纹理设置到surface上面，然后我就可以拿到这个gl纹理，将这个gl纹理传到渲染层，渲染曾做的就是将gl纹理做一些滤镜，这里是串行的滤镜，所以只需要一个额外的gl纹理就可以，经过最后一个滤镜之后就是超分算法后的纹理，然后将这个纹理设置到UI上的surface然后就展示出超分后的效果。比如文字这种规整的会有锯齿，这个是采样纹理，将点采样改成双线性采样即可。

2、0vv专项目，音视频播放链路监控
困难
思路：监控播放链路 得到用户的播放链路行为分布 然后分别分析。
1）播放链路：4G问题
2）业务上的问题：广告视频
3）弱网问题： 做cache 
4）主线程卡顿 ：抓堆堆栈 做堆栈分析 

3、一起来捉妖——UI
https://www.processon.com/diagraming/5d2e710be4b0d11c890590e1

4、一起来捉妖——资源管理



5、UE项目——buff系统

6、天天炫斗——业务开发



## 三、网络
### 1、TCP连接管理
1. 三次握手原因
我先把tcp建立链接的双方称为客户端和服务器，客户端先向服务器发一个请求建立链接的包。先简单的回答，tcp是可靠的，两端发起建立链接都需要对方的确认，也就是客户端发送建立链接标志包，服务器要给客户端发一个确认，服务器发一个建立链接标志的包，客户端也要给你一个确认，这里是4次握手，但是服务器给客户端回复确认包的那次也带上服务器要建立链接的标志，这样可以省一个包，这个就是tcp三次握手所发的包，如果只有两次握手，那么只有一方确认了可以发送包对方收得到，另外一方不能确认对方是否收到包，那么这样就让服务器发送包给客户端这个通路是未经确认的，也就会不可靠。tcp是双工的，只有两次握手只能确保一条通路是通的。

2. 第三次握手会带上数据吗？
可以的。
http://0xffffff.org/2015/04/15/36-The-TCP-three-way-handshake-with-data/

3. 第三次握手丢包了？
https://www.zhihu.com/question/49324380
服务器收到SYN包后发出SYN+ACK数据包，服务器进入SYN_RECV状态。
而这个时候客户端发送ACK给服务器失败了，服务器没办法进入ESTABLISH状态，这个时候肯定不能传输数据的，不论客户端主动发送数据与否，服务器都会有定时器发送第二步SYN+ACK数据包，如果客户端再次发送ACK成功，建立连接。
如果一直不成功，服务器肯定会有超时设置，超时之后会给客户端发RTS报文，进入CLOSED状态，这个时候客户端应该也会关闭连接。
https://www.zhihu.com/question/49324380/answer/116066114
4. TCP四次挥手原因
需要四次是因为TCP是全双工的，客户端close只是标识单向链接关闭，链接处于半链接状态，所以ack包和fin包是不能合并在一起的，所以就需要四次挥手
（拓展：ARQ 自动重传请求）
全双工、半双工、单工
5. TCP可靠的实现，流量控制，滑动窗口
https://www.cnblogs.com/kubidemanong/p/9987810.html
1）如果发送者不受控制一直发包 接收者的缓存区满了 就会丢包 
2）流量控制 滑动窗口来解决这个问题，滑动窗口是指接收方告知发送方我的接收窗口多大，你不要发多了。
3）那么就出现一个问题，窗口为0的时候，且接收方的窗口不为0的包丢了，这个时候发送方和接收方都在互相等待，进入死锁
4）解决死锁方法就是发送方接收到窗口为0的时候要定时去查窗口大小。


6. 拥塞控制
拥塞就是tcp包在网络中传输在传输过程遇到了拥堵的处理方法。tcp会把丢包就认为是拥堵了。tcp慢开始 假设slow start threshold是16 那么congessionwindow从1 开始然后 2 4 8 12 13 16 17 18....24 拥塞了 就吧slow start threshold 设置为一半就是12  然后cwnd 从1开始 2 4..。
1）慢开始：就是指cwnd从1开始慢慢递增
2）拥塞避免算法：拥塞避免算法是只到了ssthreshold的时候增长变慢 增长是按照1的间隔增加
3）快重传：指丢包后，收到失序的包 三个 就立刻重发 不用等定时重传。
4）快恢复：收到三个重复确认时 不执行慢开始 而是sshreshold减半之后 就执行拥塞算法。



